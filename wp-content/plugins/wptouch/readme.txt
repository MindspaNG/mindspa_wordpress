=== WPtouch ===
Contributors: wptouch, sureswiftcapital, duanestorey, dalemugford, adamdipardo, oxymoron
Tags: wptouch, iphone, ipod, bravenewcode, mobile, mobile-friendly, android, blackberry, smartphone, responsive, design, mobile plugin, ios, mobile theme
Requires at least: 4.2
Stable tag: 4.3.41
Tested up to: 5.5.3
License: GPLv2

Make your WordPress website mobile-friendly with just a few clicks.

== Description ==

WPtouch is a mobile plugin for WordPress that automatically adds a simple and elegant mobile theme for mobile visitors to your WordPress website. Recommended by Google, it will instantly enable a mobile-friendly version of your website that passes the Google Mobile test, and ensure your SEO rankings do not drop due to not having a mobile-friendly website. For more information about using WPtouch to achieve Google mobile-friendly status, please read our [comprehensive mobile-friendly guide](http://bit.ly/bnc_mobilefriendly).

The WPtouch administration panel and WordPress Customizer allow you to customize many aspects of its appearance, and deliver a *fast*, user-friendly and stylish version of your site to your mobile visitors, without modifying *a single bit of code*.  Your regular desktop theme is left intact, and will continue to show for your non-mobile visitors.

**Go Pro for support and more control, enhanced themes & features**

WPtouch Pro offers a variety of enhanced themes for blogs, businesses, and WooCommerce retailers; extensions that add rich advertising options, advanced web font controls, caching, and more; and of course, top-notch one-on-one support from our professional team.

For more information visit [WPtouch.com](http://www.wptouch.com/?utm_campaign=wptouch-front-readme&utm_medium=web&utm_source=wordpressdotorg "WPtouch.com").

'WPtouch' & 'WPtouch Pro' are trademarks of BraveNewCode Inc.

== Screenshots ==

1. Glamour shot!
2. Triple view of post/page view, main and comments area. Colours, fonts and more can be customized easily.
3. Admin general settings
4. Admin devices settings
5. Menu settings
6. Theme settings

== Changelog ==

= Version 4.3.41 (May 5th, 2021) =

* Fixed subsequent icon jQuery error.

= Version 4.3.40 (May 4th, 2021) =

* Fixed menu icon jQuery error.

= Version 4.3.39 (November 11th, 2020) =

* Fixed more CSS issues that disrupted usability.

= Version 4.3.38 (August 26th, 2020) =

* Fixed CSS issues that disrupted usability.
* Fixed redirect that would cause screen error after upgrade.

* Added: SMS sharing option to base Foundation theme.

= Version 4.3.37 (April 13th, 2019) =

* Added: SMS sharing option to base Foundation theme.

= Version 4.3.36 (March 26th, 2019) =

* Added: kinsta.com check so they can optimize WPtouch plugin caching on their hosting platform.
* Updated: Tested up to date.

= Version 4.3.35 (February 11th, 2019) =

* Fixed: Issue where links with sms protocols would get stripped from content.

= Version 4.3.34 (November 21st, 2018) =

* Fixed: Issue where iframe height might be cut off + additional Gutenberg/block related styling changes.

= Version 4.3.33 (November 6th, 2018) =

* Fixed: Bauhaus version bump.

= Version 4.3.32 (November 6th, 2018) =

* Fixed: Gutenberg/blocks compatibility.
* Fixed: Fixed issue with YouTube embeds and AdSense code could white screen page.
* Fixed: PHP7+ warning.

= Version 4.3.31 (October 29th, 2018) =

* Fixed: Prevent CDATA tags being stripped from custom analytics text area entries.

= Version 4.3.30 (October 19th, 2018) =

* Fixed: Script tag attributes being stripped from custom analytics text area entries.

= Version 4.3.29 (October 16th, 2018) =

* Fixed: Add helper file to output WordPress comment form cookie checkbox field for child themes that contain custom comment form layouts.
* Fixed: Potential XSS vulnerability relating to saving plugin settings in the WordPress admin.

= Version 4.3.28 (May 10th, 2018) =

* Fixed: TypeError on setSelectionRange JavaScript error for email field on checkout page.

= Version 4.3.27 (March 8th, 2018) =

* Fixed: Issue where html would be output for social media links when none are set.

= Version 4.3.26 (Feb 8th, 2018) =

* Added: Additional escaping for JS output.
* Added: Additional core theme support items.

= Version 4.3.25 (Feb 2nd, 2018) =

* Fixed: Double escaping on post content which caused certain shortcodes not to work properly.

= Version 4.3.24 (Feb 1st, 2018) =

* Fixed: Added additional sanitization and escaping to data pulled saved to and pulled from the database.

= Version 4.3.23 (Dec 27, 2017) =

* Fixed: URL typo.
* Updated: Logic for script output in customizer custom footer content.

= Version 4.3.22 (Nov 16, 2017) =

* New Feature: Live view of customizer additional CSS field content.

= Version 4.3.21 (October 6, 2017) =

* Fixed: Output of script tags within the customizer custom footer content area.

= Version 4.3.20 (October 5, 2017) =

* Fixed: Prevent stripping of form input elements from the additional footer html content entered in the customizer.

= Version 4.3.19 (August 21, 2017) =

* Security: Added escaping to untrusted output.

= Version 4.3.18 (May 29, 2017) =

* WPML Compatibility:  Allows posts to display for chosen language in mobile blog index.
* Fixed: Bug where password protected pages would not display properly with 'process desktop shortcodes' option enabled.

= Version 4.3.17 (May 10, 2017) =

* New Feature: Adds default functionality to send no cache request headers when mobile theme is showing. Also adds option in admin to disable this functionality.

= Version 4.3.16 (April 25, 2017) =

* Fixed: Bug where backslashes were being stripped from shortcode display.

= Version 4.3.15 (April 10, 2017) =

* Fixed: PHP 7.1.2 error regarding "Process desktop theme shortcodes" option.

= Version 4.3.14 (March 20, 2017) =

* Fixed: Updated functionality for theme incompatibility notice to be permanently dismissed.
* Fixed: Updated functionality for plugin incompatibility notice to be permanently dismissed.
* Fixed: Bug where automatically-chosen font colors were wrong.

= Version 4.3.13.1 (March 8, 2017) =

* Fixed: Bug where if you dismissed the newsletter signup outside of the WPtouch settings area it would continue to show the notice.

= Version 4.3.13 (March 6, 2017) =

* Fixed: Bug that didn't allow mobile / desktop switching in specific W3TC configuration.
* Fixed: Warning that appeared for sites running PHP 7.1+.
* Speed Improvement: Minimize Bauhaus CSS & JavaScript.
* New: Added Newsletter Signup option in settings.

= Version 4.3.12 (February 21, 2017) =

* Speed Improvement: Minimize foundation CSS & JavaScript.
* Speed Improvement: Reduce HTTP requests by inlining small stylesheets.
* Speed Improvement: Minimize internal module CSS & JavaScript.

= Version 4.3.11 (February 9, 2017) =

* Fixed: Better support for SSL in the WPtouch settings page

= Version 4.3.10 (December 22, 2016) =

* Fixed: Bug that sometimes prevented the customizer from showing the mobile theme

= Version 4.3.9 (December 12, 2016) =

* Fixed: Error message that appeared when running the latest version of Wordfence

= Version 4.3.8 (December 8, 2016) =

* Fixed: Minor bugs and issues reported by customers and users
* Added: Compatibility with WordPress 4.7

= Version 4.3.7 (November 23, 2016) =

* Changed: Now using the standard WordPress comment form, for better compatibility with plugins that use or modify comments.
* Fixed: Minor bugs and issues reported by customers and users

= Version 4.3.6 (November 10, 2016) =

* Fixed: Featured slider now won't show if no posts have a featured image
* Fixed: Minor bugs and issues reported by customers and users

= Version 4.3.5 (October 27, 2016) =

* Fixed: Warnings that appeared for sites running PHP 7
* Fixed: Minor bugs and issues reported by customers and users

= Version 4.3.4 (October 13, 2016) =

* Added: Support for adding the featured post slider to a page
* Fixed: Missing translations for number of comments in the blog listing

= Version 4.3.3 (October 3, 2016) =

* Fixed: An issue in the admin panel which made it appear that other plugins were disabled while WPtouch is running. No plugins are disabled by default when WPtouch is active.

= Version 4.3.2 (September 28, 2016) =

* Fixed: Better compatibility with W3TC and PHP 5.2

= Version 4.3.1 (September 27, 2016) =

* Fixed: Issue in Bauhaus theme related to old versions of PHP

= Version 4.3 (September 26, 2016) =

* Added: Bauhaus 2. Updated Featured slider, may require you to set up your preferred settings again
* Fixed: Minor issues and a settings bug which could cause settings to appear unsaved in the Customizer

= Version 4.2.6 (September 16, 2016) =

* Modified: Newsletter sign-up information

= Version 4.2.5 (September 2, 2016) =

* Fixed: An issue which causes the switch link setting to be hidden
* Fixed: An issue which prevented category filtering from working correctly

= Version 4.2.4 (August 25, 2016) =

* Added: New display option for Bauhaus featured slider
* Fixed: Minor plugin compatibility improvements

= Version 4.2.3 (August 8, 2016) =

* Fixed: Made notices banner only show for administrators
* Updated: Enhanced the ability to upgrade free version

= Version 4.2.1 (August 5, 2016) =

* Fixed: An issue which could prevent the Customizer from switching between desktop and mobile

= Version 4.2 (August 3, 2016) =

* Added: NEW! Change theme settings in the WordPress Customizer!
* Fixed: Minor bugs and issues

= Version 4.1.8 (July 19, 2016) =

* Updated: Spanish translations
* Fixed: Search behaviour in some languages

= Version 4.1.7 (July 5, 2016) =

* Fixed: Display issues with RTL menus and some themes

= Version 4.1.6 (June 30, 2016) =

* Updated: Autosave in admin panel is now a little more robust and optimized.
* Changed: Replaced library used for off-canvas menu in some themes (now using Slideout)

= Version 4.1.5 (June 17, 2016) =

* Added: Option to choose which page the featured slider is shown on (Bauhaus, certain configurations)
* Added: For sites that redirect mobile visitors to a landing page other than their latest posts page, added option to select on which page the featured slider is shown.
* Changed: Auto-expand menu section if on a page within that section
* Changed: Reduced frequency of API calls in admin
* Changed: Cache warning is no longer displayed for sites running W3 Total Cache if a user agent group has been enabled to pass through mobile requests. As it is incompatible with this cache configuration, the desktop/mobile theme switch is disabled for sites using this cache configuration.
* Changed: Custom field-based thumbnails are now displayed in post listings, related posts, featured slider, and at top of posts.
* Changed: Featured slider no longer shows zero comment count
* Fixed: Incorrect XML sitemap output when Featured Slider was enabled
* Updated: Italian, Portuguese, Spanish translations

= Version 4.1.4 (May 26, 2016) =

* Added: Support for new setting types in admin
* Added: Improved RTL support for featured slider
* Changed: Only display icon selection tool on items already saved to the menu (WordPress limitation)
* Changed: Replaced library used for featured slider (now using Owl Carousel)
* Changed: No icon selection shown for pending items (cannot select icons until item saved in menu)
* Fixed: Icon selector not fully overlaying other menu items when they've been expanded
* Fixed: Warnings when featured slider finds no content to display
* Fixed: Menu fields showing through icon picker
* Fixed: Display of long (non-breaking) titles in next/previous links
* Fixed: 'Save settings' spinner triggered when non-saving actions were taken

= Version 4.1.3 (May 6, 2016) =

* Fixed: Auto-upgrade from WPtouch to WPtouch Pro when license is activated
* Updated: Hebrew translation (partial)

= Version 4.1.2 (May 3, 2016) =

* Fixed: Auto-disable free plugin when WPtouch Pro is active
* Fixed: Ensure correct theme is active when downgrading from WPtouch Pro
* Fixed: Pinterest sharing link
* Fixed: Search forms now allow searching while in preview mode
* Updated: Translations for Arabic, French, Indonesian, Japanese, Portuguese

= Version 4.1.1 (April 12, 2016) =

* Added: Compatibility with WordPress 4.5
* Added: Setting to control which side the Bauhaus menu is shown on
* Changed: Adjusted colour conversion for Luma-based colouring, ensuring true value is used
* Changed: Re-added 'show login' setting for sites that require users to be registered to comment.
* Fixed: Bug with custom latest posts page when not set to the same as WordPress homepage
* Fixed: Search forms now allow searching while in preview mode
* Fixed: Eliminated PHP warnings
* Fixed: Display of featured slider settings when slider is first enabled

= Version 4.1 (March 24, 2016) =

* Added: New filters to support AMP extension in WPtouch Pro
* Changed: Streamlined wizard experience
* Fixed: Case where featured posts would always be repeated in listing if featured slider was set to show only 1 post
* Fixed: Error when page was not found

= Version 4.0.4 (February 29, 2016) =

* Added: Featured slider settings to control display of # of comments
* Added: Featured slider option for more minimal slider appearance
* Changed: Added styling for some rarer html elements, and updated others (ol, code, pre etc.)
* Changed: Minor styling enhancements and fixes
* Updated: Opera users agents to better specify supported opera versions and platforms
* Fixed: Load more posts on custom posts page did not load posts in certain configurations
* Fixed: Retain WPML language parameter when redirecting to mobile landing page
* Fixed: Minor styling issues
* Fixed: Toggle fields not saving on some server configurations

= Version 4.0.3 (January 19, 2016) =

* Changed: Restored homepage redirect setting - thanks for your feedback!
* Fixed: Menu icon selection when using relative-protocol media URLs
* Fixed: Black field on blog index when featured slider is disabled.

= Version 4.0.2 (December 29, 2015) =

* Added: On upgrade, migrate sites using the old "WordPress Pages" menu option to a custom WordPress menu
* Fixed: Custom Latest Posts Page handling

= Version 4.0.1 (December 22, 2015) =

* Added: Reset settings buttons
* Added: Restored preview theme capability

= Version 4.0 (December 22, 2015) =

* A whole new WPtouch that makes getting your WordPress website mobile-friendly easier than ever before
* Added: Settings panel has been re-written and simplified into a single page, now much faster
* Added: Settings auto-save— no need to click a settings save button (how 2013 of us)
* Added: Settings types are easier to control, with toggles and elegant drop-downs to switch settings
* Added: Added new options and controls (like controlling the devices WPtouch is active for)
* Changed: Removed visible but inactive Pro settings
* Changed: Simplified a few settings, you'll probably be mad at us but we really want this plugin to be easy to use for everyone!
* Changed: Now using the WP color picker
* Changed: Updated core plugin assets and optimized theme & admin speed


= WordPress 4.0+ =

You can install *WPtouch* directly from the WordPress admin. Visit the *Plugins - > Add New* page and search for 'WPtouch'. Click to install.

Once you have installed and activated WPtouch, visit the admin page via the sidebar menu to customize your WPtouch installation's appearance.

= User Manual =

You can download the user manual from within the WPtouch administration panel, or [download the WPtouch manual here](). It contains information on how to configure WPtouch.  Please note that if you are using a caching plugin, you will need to perform additional steps for WPtouch to work as expected.

For more information visit [WPtouch.com](http://www.wptouch.com/?utm_campaign=wptouch-front-readme&utm_medium=web&utm_source=wordpressdotorg "WPtouch.com").

== Frequently Asked Questions ==

= I thought most touch smartphones show my website fine the way it is now? =

Yes, that's true in general. However *not all websites are created equal, with some sites significantly failing to translate well in small mobile device viewports.

Many WordPress sites today also make heavy use of a variety of javascript, css and image files which significantly increase load times, in turn driving visitors on data connections crazy, often causing them to abandon your site altogether.

We created *WPtouch* to be a lightweight, fast-loading, feature-rich mobile plugin to add a theme shown to mobile visitors. The plugin includes an admin panel for customizing many aspects of your site's presentation when showing the mobile theme.

= Well, what if my users don't like it and want to see my regular site? =

There's a link to switch back to the desktop theme in the footer area of *WPtouch* so your visitors can easily switch between the *WPtouch* view and your site's regular appearance.

We even automatically put a little snippet of code into your current desktop theme which will be shown only to iPhone, iPod touch, Android or BlackBerry touch mobile device visitors, giving them control to switch between the two themes easily.

= Will it slow down my blog, or increase my server load? =

No. The entire *WPtouch* footprint is small. In fact, it should reduce load, because of its streamlined approach to serving optimized content to mobile visitors. It was designed to be as lightweight and speedy as possible, while still serving your site's content in a richly presented way, sparing no essential features like search, login, categories, tags, comments etc.

For more information visit [WPtouch.com](http://www.wptouch.com/?utm_campaign=wptouch-front-readme&utm_medium=web&utm_source=wordpressdotorg "WPtouch.com").

= I notice my desktop site shows for mobile visitors, or vice versa =

It sounds like you are using a caching plugin but you haven't configured it. Please read the user manual (accessible from the WPtouch admin) and perform the cache changes are outlined in the user manual.  Once done, WPtouch will work as expected.

= What's different about version 4 vs. version 3? =

The biggest difference is the admin panel. Instead of multiple admin pages with settings split out, we've combined and streamlined the settings into one panel page.

Tabs on the left, settings on the right. All settings instantly save via AJAX, so you don't have to save settings manually.

= Will I lose anything upgrading? =

WPtouch 4 is an upgrade from 3, and your theme settings will stay intact. You will notice a couple settings have been slimmed down, while we added a few new ones.

Overall you might think there's less in WPtouch 4— but we actually removed how we showed Pro-only settings even though they weren't available in free, along with other non-essential panes and views to streamline the product.

= What's New? =

The best new additions for WPtouch 4 are in WPtouch Pro— we added support to live preview your changes in the WordPress Customizer, along with new theme and extension updates, features and more.

In the free version, the newest changes have more to do with under the hood improvements for speed and performance in the theme, and of course the new admin panel making setup faster and easier.

= What's Next? =

We've got theme and feature updates planned based on feedback from our users, but that's all we'll share!

= What if I'm using a caching plugin? =

If you are using a caching plugin, you will need to configure it to work properly with WPtouch. If your caching plugin is not configured, or not configured properly, you will most encounter inconsistent behaviour where WPtouch shows for desktop visitors, or mobile visitors see your desktop site.

**W3 Total Cache**

1. If you have “Browser Cache” enabled, please disable ‘Set expires header' in the Browser cache settings to prevent Desktop/Mobile switch link issues.
2. Go to the “Page Cache” settings under the Performance tab.
3. Copy the list of mobile user agents found in our list of “User agent list for configuring cache plugins“.
4. If you have added support for additional mobile devices in WPtouch's Compatibility > Custom User Agents field, you must also include those user agents in the “Rejected User 5. Agents” area in W3 Total Cache.
5. Scroll down to the “Rejected User Agents” field and paste the list of WPtouch default user agents, adding one per line.
Save your changes.
6. Go to the “Minify” settings under the Performance tab.
Scroll down to the “Rejected User Agents” field and paste the list of WPtouch default user agents, adding one per line.
7. Save your changes.
8. Go to the “CDN” settings under the Performance tab.
9. Scroll down to the “Rejected User Agents” field and paste the list of WPtouch default user agents, adding one per line.
10. Save your changes.
11. Finally, go to the W3 Total Cache “Dashboard” and select “Empty All Caches”.

Ensure that W3 Total Cache is selected in the plugins list in the Compatibility section of the WPtouch admin panel.

**WP Super Cache**

Note: The native support for the free version of WPtouch found in WP Super Cache (under the “Plugins” tab) must be disabled to prevent conflicts in WPtouch.

1. In the Advanced tab of the WP Super Cache settings select “Mobile Device Support”* and click “Update Status”.
2. Still in the Advanced tab, scroll down to the “Rejected User Agents” area. Paste the entire list of mobile user agents found in our list of “User agent list for configuring cache plugins” into the field and click “Save UA Strings”.
3. If you have added support for additional mobile devices in WPtouch's Compatibility > Custom User Agents field, you must also include those user agents in the “Rejected User Agents” area in WP Super Cache.
4. In the “Contents” tab, click “Delete Cache” and “Delete Expired” to delete pages that were likely cached before adding the new list of rejected user agents.
5. Ensure that WP Super Cache is selected in the plugins list in the Compatibility section of the WPtouch admin panel.

**WP Rocket**

In the "Basic Options" of WP Rocket's settings page, make sure "Enable caching for mobile devices." is deselected. Ensure that WP Rocket is selected in the plugins list in the Compatibility section of the WPtouch admin panel.

Please see the user manual for additional information.

**WP Engine**

Please contact WPEngine and ask them to exclude the user agents found in the “User agent list for configuring cache plugins“.

== Upgrade Notice ==

= 4.0 =

This is a major update, but maintains all previous settings. The biggest changes are in the admin appearance.
